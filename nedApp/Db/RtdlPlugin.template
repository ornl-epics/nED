include "BasePlugin.include"

# Upgrade BasePlugin::Enable PV
record(bo, "$(P)Enable")
{
    info(autosaveFields, "VAL")
    field(PINI, "YES")
}
record(stringin, "$(P)Timestamp")
{
    field(DTYP, "asynOctetRead")
    field(INP,  "@asyn($(PORT))Timestamp")
    field(SCAN, "I/O Intr")
}
record(bi, "$(P)BadPulse")
{
    field(DESC, "Bad pulse indicator")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))BadPulse")
    field(ZNAM, "No")
    field(ONAM, "Yes")
    field(SCAN, "I/O Intr")
}
record(longin, "$(P)PulseFlav")
{
    field(DESC, "Pulse flavor")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))PulseFlav")
    field(SCAN, "I/O Intr")
}
record(longin, "$(P)PulseCharg")
{
    field(DESC, "Pulse charge")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))PulseCharg")
    field(EGU,  "C")
    field(SCAN, "I/O Intr")
}
record(bi, "$(P)BadVetoFr")
{
    field(DESC, "Bad veto frame indicator")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))BadVetoFr")
    field(ZNAM, "No")
    field(ONAM, "Yes")
    field(SCAN, "I/O Intr")
}
record(bi, "$(P)BadCycleFr")
{
    field(DESC, "Bad cycle frame indicator")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))BadCycleFr")
    field(ZNAM, "No")
    field(ONAM, "Yes")
    field(SCAN, "I/O Intr")
}
record(longin, "$(P)Tstat")
{
    field(DESC, "TSTAT")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))Tstat")
    field(SCAN, "I/O Intr")
}
record(mbbi, "$(P)Veto")
{
    field(DESC, "Last cycle veto")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))Veto")
    field(SCAN, "I/O Intr")
    field(ZRVL, "0")
    field(ZRST, "No beam")
    field(ONVL, "1")
    field(ONST, "Not target 1")
    field(TWVL, "2")
    field(TWST, "Not target 2")
    field(THVL, "3")
    field(THST, "Diagnostic pulse")
    field(FRVL, "4")
    field(FRST, "Physics pulse 1")
    field(FVVL, "5")
    field(FVST, "Physics pulse 2")
    field(SXVL, "6")
    field(SXST, "MPS auto reset")
    field(SVVL, "7")
    field(SVST, "MPS fault")
    field(EIVL, "8")
    field(EIST, "Event link error")
    field(NIVL, "9")
    field(NIST, "Ring RF synch")
    field(TEVL, "10")
    field(TEST, "Ring RF freq")
    field(ELVL, "11")
    field(ELST, "60 Hz tolerance")
}
record(longin, "$(P)Cycle")
{
    field(DESC, "Cycle number")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))Cycle")
    field(SCAN, "I/O Intr")
}
record(longin, "$(P)IntraPTime")
{
    field(DESC, "Number of ns between reference pulses")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))IntraPTime")
    field(EGU,  "ns")
    field(SCAN, "I/O Intr")
}
record(bi, "$(P)TofFullOff")
{
    field(DESC, "TOF full offset enabled")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))TofFullOff")
    field(ZNAM, "Disabled")
    field(ONAM, "Enabled")
    field(SCAN, "I/O Intr")
}
record(longin, "$(P)FrameOff")
{
    field(DESC, "RTDL frame offset")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))FrameOff")
    field(SCAN, "I/O Intr")
}
record(longin, "$(P)TofFixOff")
{
    field(DESC, "TOF fixed offset")
    field(DTYP, "asynInt32")
    field(INP,  "@asyn($(PORT))TofFixOff")
    field(SCAN, "I/O Intr")
}
